@{
    ViewBag.Title = "Report";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<script src="../../Scripts/jquery-1.5.1.min.js" type="text/javascript"></script>
<script src="../../Scripts/jquery-ui-1.8.11.min.js" type="text/javascript"></script>
<link href="../../CSS/jquery-ui.css" rel="stylesheet" type="text/css" />
<script type="text/javascript">

    $(document).ready(function () { hiddeCheckBox(); });

    function hiddeCheckBox() {
        $("#lavelASONDATE").hide();
        $("#texASONDATE").hide();
        $("#tdASONDATE").hide();
        $("#tdtexASONDATEsp").hide();
        $(".saurabhTable").hide();
        $("#mainTableee").hide();

    }
    function AmtOptChg() {

        var val_cgg = $('#cmbAccountNo').val();
        if (val_cgg == "SELECT COUNTRY") {
            $("#lavelASONDATE").text("SELECT COUNTRY");
            $("#lavelASONDATE").show();
            $("#tdASONDATE").show();
            $("#tdtexASONDATEsp").hide();
            $("#mainTableee").hide();
            $(".saurabhTable").hide();

            spop();
            $(".SimTable").hide();

        }

        else if (val_cgg == "EXECUTIVE WISE") {
            $("#lavelASONDATE").text("EXECUTIVE WISE");
            $("#lavelASONDATE").show();
            $("#texASONDATE").show();
            $("#tdASONDATE").show();
            $("#tdtexASONDATEsp").show();

        }
        else if (val_cgg == "BRANCH WISE") {
            $("#lavelASONDATE").text("BRANCH WISE");
            $("#lavelASONDATE").show();
            $("#texASONDATE").show();

            $("#tdASONDATE").show();
            $("#tdtexASONDATEsp").show();
        }
        else if (val_cgg == "CLIENT WISE") {
            $("#lavelASONDATE").text("CLIENT WISE");
            $("#lavelASONDATE").show();
            $("#texASONDATE").show();
            $("#tdASONDATE").show();
            $("#tdtexASONDATEsp").show();

        }

        else if (val_cgg == "ALL") {
            $("#lavelASONDATE").text("ALL");
            $("#lavelASONDATE").show();
            $("#texASONDATE").hide();
            $("#tdASONDATE").show();
            $("#tdtexASONDATEsp").hide();
            $(".mayankTable").hide();
            $("#mainTableee").show();
            $(".saurabhTable").show();
            ALLTABLE();
            spp();
            $(".SimTable").hide();

        }

        else if (val_cgg == "Select") {
            $(".mayankTable").hide();
            $("#lavelASONDATE").hide();
            $("#texASONDATE").hide();
            $("#tdASONDATE").hide();
            $("#tdtexASONDATEsp").hide
            $(".saurabhTable").hide();
            $("#mainTableee").hide();
            $(".SimTable").hide();

        }
    }



    /////////////////////////////////////////////////////////////////////////////////////second hide //////////////////////////////////////////////////////////////////////////////////////////////

    $(document).ready(function () { hiddeCheckBox2(); });

    function hiddeCheckBox2() {
        $("#lavellavelsp").hide();
        $("#tdlavelsp2").hide();
        $("#tdtexsearchsp2").hide();
        $("#texsearchsp2").hide();
    }
    function AmtOptChg2() {
       
        var val_cgg = $('#cmbAccountNooo').val();
        if (val_cgg == "Other Items") {
            $("#lavellavelsp").text("Other Items");
            $("#lavellavelsp").show();
            $("#texsearchsp2").show();

            $("#tdlavelsp2").show();
            $("#tdtexsearchsp2").show();
        }
        else if (val_cgg == "SIM Details") {
            $("#lavellavelsp").text("SIM Details");
            $("#lavellavelsp").show();
            $("#texsearchsp2").show();

            $("#tdlavelsp2").show();
            $("#tdtexsearchsp2").show();
            simTable();
            $("#mainTableee").hide();
            $(".saurabhTable").hide();

        }
        else if (val_cgg == "VOUCHER Details") {
            $("#lavellavelsp").text("VOUCHER Details");
            $("#lavellavelsp").show();
            $("#texsearchsp2").show();

            $("#tdlavelsp2").show();
            $("#tdtexsearchsp2").show();
        }


        else if (val_cgg == "ALL") {
            $("#lavellavelsp").text("ALL");
            $("#lavellavelsp").show();
            $("#texsearchsp2").hide();
            $("#tdlavelsp2").show();
            $("#tdtexsearchsp2").hide();
            $(".SimTable").hide();
        }

        else if (val_cgg == "Selectt") {
            $(".mayankTable").hide();

            $("#lavellavelsp").hide();
            $("#texsearchsp2").hide();
            $("#tdtexsearchsp2").hide();
            $("#tdlavelsp2").hide();
            $("#mainTableee").hide();
            $(".saurabhTable").hide();
            $(".SimTable").hide();
        }
    }









    //////////////////////////////////////////////////////////////////////////////////////////////////end ////////////////////////////////////////////////////////////////////////////////////////////////////////

    /////////////////////////////////////////////////////////////////////////////////////////////county pop //////////////////////////////////////////////////////////////////////////////////////////////////////////////

    $(document).ready(function () { sp(); });

    function sp() {
        spp();



    }
    function spp() {
        var option = "DATE SEARCH";
        var strval = "";
        var date1 = "01/01/2013";
        var date2 = "01/01/2016";
        $.post('/ChallanOut/fillcombo', null, function (data) { chkGetCountry(data); }).error(function (data) { chkGetCountry(data); });
    }
    function chkGetCountry(abc) {
        POPdTable1AccountNo(abc);
        var cv = abc;
        ALLTABLE(abc);

    };

    function POPdTable1AccountNo(xyz) {

        var tab = "";
        tab += "<table border='2'>";
        tab += "<tr align=center >";
        tab += "<td align=center colspan='2' class=spacountnotd style='width:150px;background-color:silver;color:navy;'> <input value='Select' class='rowBtun' id='chkRowBTim' onclick='funchk()' type='button'  />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input value='Close' class='rowBtun' id='chkRowBTimmm' onclick='dillClose()' type='button'  /></td>";

        tab += "</tr>";
        tab += "<tr>";
        tab += "<td id=spacountnot  style='width:200px;background-color:#33CCFF;color:navy;'> Select</td>";

        tab += "<td id=spChequeNot style='width:250px;background-color:#33CCFF;color:navy;'> Country</td>";
        tab += "</tr>";

        for (var em in xyz) {
            tab += "<tr >";
            tab += "<td class=spacountnotd style='width:150px;background-color:silver;color:navy;'> <input class='echallanno' id='chkRow' type='checkbox'  /></td>";
            tab += "<td class=spCustomerNametd style='width:150px;background-color:silver;color:navy;'>" + xyz[em].CountryName + "</td>";
            tab += "</tr>";
        }
        tab += "</table>";
        $('#s1').html(tab);

    }

    $(document).ready(function () { shide(); });
    function shide() {
        $('#pops1').hide();

    }

    function spop() {
        $('#pops1').show();

        $("#pops1").dialog({
            modal: true,
            width: 'auto',

            height: 630,

            title: " ALL COUNTRY ",
            resizable: false,
            position: 'center',



            open: function () {
                $(".ui-dialog-titlebar-close").show();

            }


        });


    }
    /////////////////////////////////////////////////////////////////////////////gggggggggggggggggggggggggggggggg/////////////////////////////////////////////////////////////////////////////////


    function Filldata(comp) {
     
        var country = comp;
        var strval = "";
        var date1 = "01/01/2013";
        var date2 = "01/01/2016";
        $.post('/LiveReport/Search_Data', null, function (data) { fundata(data); }).error(function (data) { fundata(data); });
    }

    function fundata(msg) {
    
    }
    ////////////////////////////////////////////////////////////////////////////////////////////////// end //////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    function funchk() {
 
        $("#pops1").dialog('close');
        var chno;
        var data;
      

        $('tr').filter(':has(:checkbox:checked)').each(function () {
            chno = $(this).find(".spCustomerNametd").html();
            if (chno != "") {

              $.post('/LiveReport/Search_Data', { country: chno }, function (data) { buldtable(data); }).error(function (data) { buldtable(data); });
            }
        });

      
        // End save record in database .........................................
        
     }

     function buldtable(abc) {

         try {
             $("#co").append("<td class=spacountnotd style='width:200px; height:50px; background-color:#33CCFF;color:navy;'>" + abc[0].country + " </td>");
             $("#p").append("<td class=spacountnotd style='width:200px; height:50px; background-color:silver;color:navy;'>" + abc[0].PUR + " </td>");
             $("#c").append("<td class=spacountnotd style='width:200px; height:50px; background-color:silver;color:navy;'>" + abc[0].EXE + " </td>");
             $("#cl").append("<td class=spacountnotd style='width:200px; height:50px; background-color:silver;color:navy;'>" + abc[0].CLI + " </td>");
             $("#t").append("<td class=spacountnotd style='width:200px; height:50px; background-color:silver;color:navy;'>" + abc[0].total + " </td>");
             total
         } catch (e) {

         }

    }
   


    ///////////////////////////////////////////////////////////////////////////////////////////////////////main table ////////////////////////////////////////////////////////////////////////////////////////////////////////

    function dillClose() {

        $("#pops1").dialog('close');

    }

    //////////////////////////////////////////////////////////////////////////////////////////////////////////////end /////////////////////////////////////////////////////////////////////////////////////////////////////////////////

    function Closesp() {
     
        window.location.href = '@Url.Action("Live_Report", "LiveReport")'; 

    }
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////chk delete //////////////////////////////////////////////////////////////////////////////////

    function Filldata(comp) {
        var country = comp;
        var strval = "";
        var date1 = "01/01/2013";
        var date2 = "01/01/2016";
        $.post('/ChallanOut/fillcombo', null, function (data) { chkGetCountry(data); }).error(function (data) { chkGetCountry(data); });
    }


    function ALLTABLE(xyz) {
        var tab = "";
        tab += "<table border='2'>";
        tab += "<tr >";
        tab += "<td id=spacountnot  style='width:200px;background-color:#33CCFF;color:navy;'> Country </td>";
        for (var em in xyz) {
            tab += "<td id=spChequeNottd class=countrysps style='width:100px;background-color:#33CCFF;color:navy;'> " + xyz[em].CountryName + " </td>";

        }
        tab += "</tr>";
        tab += "<tr >";
        tab += "<td class=spacountnotd style='width:200px; height:50px; background-color:#33CCFF;color:navy;'> IN PURCHASE ENTRY </td>";

        for (var em in xyz) {
            tab += "<td class=spacountnotd style='width:100px; height:50px; background-color:silver;color:navy;'>" + xyz[em].CountryName + " </td>";

        }
        tab += "</tr>";

        tab += "<tr >";
        tab += "<td class=spacountnotd style='width:200px; height:50px; background-color:#33CCFF;color:navy;'> WITH EXECUTIVE  </td>";



        for (var em in xyz) {
            tab += "<td class=spacountnotd style='width:100px; height:50px; background-color:silver;color:navy;'>" + xyz[em].CountryName + " </td>";

        }
        tab += "</tr>";
        tab += "<tr >";
        tab += "<td class=spacountnotd style='width:200px; height:50px; background-color:#33CCFF;color:navy;'> WITH CLIENT  </td>";



        for (var em in xyz) {
            tab += "<td class=spacountnotd style='width:100px; height:50px; background-color:silver;color:navy;'>" + xyz[em].CountryName + " </td>";

        }
        tab += "</tr>";
        tab += "<tr >";
        tab += "<td class=spacountnotd style='width:200px; height:50px; background-color:#33CCFF;color:navy;'> TOTAL </td>";



        for (var em in xyz) {
            tab += "<td class=spacountnotd style='width:100px; height:50px; background-color:silver;color:navy;'>" + xyz[em].CountryName + " </td>";

        }
        tab += "</tr>";

        tab += "</table>";
        $('#mainTableee').html(tab);
        $('.saurabhTable').show();

    }

    /////////////////////////////////////////////////////////SIM WISE SEARCH/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    function simTable() {

        $(".SimTable").show();

        var tab = "";
        tab += "<table border='2'>";
        tab += "<tr>";
        tab += "<td id=spacountnot  style='width:200px;background-color:#33CCFF;color:navy;'> Sim NO</td>";

        tab += "<td id=spChequeNot style='width:250px;background-color:#33CCFF;color:navy;'> Country</td>";
        tab += "<td id=spChequeNot style='width:250px;background-color:#33CCFF;color:navy;'> Reason</td>";
        tab += "<td id=spChequeNot style='width:250px;background-color:#33CCFF;color:navy;'> Sim Date</td>";
        tab += "<td id=spChequeNot style='width:250px;background-color:#33CCFF;color:navy;'> Lost Date</td>";
        tab += "</tr>";

       

        tab += "</table>";
        $('#sim').html(tab);

    }
    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
</script>

<div align="center" style = "border-color:transparent;" >

<div align="center" style=" width:95%; border:2;  border-radius: 6px;  background-color:#164A9C; color:#FFFFFF;">
<h1 align="center"   style="  top:100%; padding-top:1%; font-family:Arial; font-size:x-large;">STOCK LIVE REPORT </h1>
@*<hr align="center" style="  height:5px; background-color:Gray;" />*@
</div>

</div>

<div  align="center" style=" width:100%; left:5%;  margin-left:5%;">

  
  
  <br />
  <table align="center" cellspacing="5px"  cellpadding="5px"  border=".2px solid gray" style="font-style:normal; border:1px solid gray;border-collapse:collapse; font-size: medium; margin :auto; width:70%; ">
    <tr>
    <td  style="width:7%; border-color:transparent;font-size: medium;font-family: 'Arial Narrow';">Select Option</td>
     <td style="width:15%;border-color:transparent;font-size: medium;font-family: 'Arial Narrow';">
      <select name ="cmbAccountNo" onchange="AmtOptChg()"  id="cmbAccountNo" style="width:90%; font-size: medium;font-family: 'Arial Narrow';border: 1px solid #c4c4c4;padding: 1px 4px 1px 4px;border-radius: 4px; -moz-border-radius: 4px;-webkit-border-radius: 4px; box-shadow: 0px 0px 8px #d9d9d9;" >
      <option value="Select">Select</option>
      <option value="SELECT COUNTRY">SELECT COUNTRY</option>
   @*    <option value="EXECUTIVE WISE">EXECUTIVE WISE</option>
        <option value="BRANCH WISE">BRANCH WISE</option>
         <option value="CLIENT WISE">CLIENT WISE</option>
          <option value="ALL">ALL</option>*@
      </select>
     </td>
      @* <td id="tdASONDATE" style="width:9%; border-color:transparent;font-size: medium;font-family: 'Arial Narrow';">
       <label id="lavelASONDATE"  >AS ON DATE</label>

       </td>
        <td id="tdtexASONDATEsp" style="width:15%;border-color:transparent;font-size: medium;font-family: 'Arial Narrow';">
      <input id="texASONDATE" type="text" style=" width:180px;" />
       
       </td>
       <td  style="width:7%; border-color:transparent;font-size: medium;font-family: 'Arial Narrow';">Select Option</td>
        <td style="width:15%;border-color:transparent;font-size: medium;font-family: 'Arial Narrow';">
      <select name ="cmbAccountNo" onchange="AmtOptChg2()"   id="cmbAccountNooo" style="width:90%; font-size: medium;font-family: 'Arial Narrow';border: 1px solid #c4c4c4;padding: 1px 4px 1px 4px;border-radius: 4px; -moz-border-radius: 4px;-webkit-border-radius: 4px; box-shadow: 0px 0px 8px #d9d9d9;" >
      <option value="Selectt">Select</option>
    
       <option value="SIM Details">SIM Details</option>
        <option value="VOUCHER Details">VOUCHER Details</option>
        <option value="Other Items">Other Items</option>
          <option value="ALL">ALL</option>
      </select>
     </td>
      <td id="tdlavelsp2" style="width:9%; border-color:transparent;font-size: medium;font-family: 'Arial Narrow';">
       <label id="lavellavelsp"  >lavelsp</label>

       </td>
        
        <td id="tdtexsearchsp2" style="width:14%;border-color:transparent;font-size: medium;font-family: 'Arial Narrow';">
      <input id="texsearchsp2" type="text" style=" width:180px;" />
       
       </td>*@



        <td style="width:7%; border-color:transparent;font-size: medium;font-family: 'Arial Narrow';">
         <input id="SAERCHid"  type="submit" style= "width:90% ; border: 1px solid #c4c4c4;padding: 1px 4px 1px 4px;border-radius: 4px; -moz-border-radius: 4px;-webkit-border-radius: 4px; box-shadow: 0px 0px 8px #d9d9d9;" value="SEARCH" />
        </td>
       <td style="width:6%; border-color:transparent;font-size: medium;font-family: 'Arial Narrow';">
        <input id="Close" onclick="Closesp();"  type="submit" style= "width:90% ; border: 1px solid #c4c4c4;padding: 1px 4px 1px 4px;border-radius: 4px; -moz-border-radius: 4px;-webkit-border-radius: 4px; box-shadow: 0px 0px 8px #d9d9d9;" value="Refresh" />
       
        </td>



       </tr>
       
        
    </table>
   
 
  </div>
  <div id="pops1"><div id="s1"></div></div><br />
  <div class="mayankTable" >
  <div id="sideCHackbox" style="float:left; width:4%;"></div><div style="width:1%;"></div>
  <div style=" float:right; width:95%;" id="mainTable"></div>
  
  </div>

   <div class="saurabhTable" >
  <div id="sideCHackboxx" style="float:left; width:4%;"></div><div style="width:1%;"></div>
  <div style=" float:right; width:95%;" id="mainTableee"></div>
  
  </div>
    <div class="SimTable" >
  <div id="sideCHackboxxx" style="float:left; width:4%;"></div><div style="width:1%;"></div>
  <div style=" float:right; width:95%;" id="sim"></div>
  
  </div>
  <div style = "float : left">
  <table border="2" id = "MyTable">
  <tbody>
  <tr id = "co"><th style='width:200px; height:50px; background-color:#33CCFF;color:navy;'>COUNTRY</th> </tr> 
  <tr id = "p"><td style='width:200px; height:50px; background-color:#33CCFF;color:navy;'> PURCHASE ENTRY </td> </tr>
  <tr id = "c"><td style='width:200px; height:50px; background-color:#33CCFF;color:navy;'> CHALLAN OUT </td> </tr>
  <tr id = "cl"><td style='width:200px; height:50px; background-color:#33CCFF;color:navy;'> CLIENT MASTER </td> </tr>
   <tr id = "t"><td style='width:200px; height:50px; background-color:#33CCFF;color:navy;'> TOTAL </td> </tr>
   </tbody>
  </table></div><div>
  </div>
  <div  >
  </div>
